{
  "$defs": {
    "ChangeType": {
      "description": "Enum for different types of entity changes.",
      "enum": [
        "creation",
        "edit",
        "redirect",
        "unredirect",
        "archival",
        "unarchival",
        "lock",
        "unlock",
        "soft_delete",
        "hard_delete"
      ],
      "title": "ChangeType",
      "type": "string"
    }
  },
  "description": "Schema for entity change events in API responses.",
  "properties": {
    "entity_id": {
      "description": "The ID of the entity that changed",
      "title": "Entity Id",
      "type": "string"
    },
    "revision_id": {
      "description": "The new revision ID after the change",
      "title": "Revision Id",
      "type": "integer"
    },
    "change_type": {
      "$ref": "#/$defs/ChangeType",
      "description": "The type of change"
    },
    "from_revision_id": {
      "default": 0,
      "description": "The previous revision ID (0 for creations)",
      "title": "From Revision Id",
      "type": "integer"
    },
    "changed_at": {
      "description": "Timestamp of the change",
      "format": "date-time",
      "title": "Changed At",
      "type": "string"
    },
    "edit_summary": {
      "default": "",
      "description": "Summary of the edit",
      "title": "Edit Summary",
      "type": "string"
    }
  },
  "required": [
    "entity_id",
    "revision_id",
    "change_type",
    "changed_at"
  ],
  "title": "EntityChange",
  "type": "object"
}
