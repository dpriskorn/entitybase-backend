@startuml System Architecture

title Wikibase Backend - System Architecture

package "API Layer" as APILayer #LightBlue {
    "Watchlist" as WatchlistHandler
    "Endorsement" as EndorsementHandler
    "Admin" as AdminHandler
    "Thanks" as ThanksHandler
    "UserActivity" as UserActivityHandler
    ... (31 total components)
}

package "Service Layer" as ServiceLayer #LightGreen {
    "Enumeration" as EnumerationService
    "BacklinkStatistics" as BacklinkStatisticsService
    "Redirect" as RedirectService
    "IdRange" as IdRange
    "IdRangeManager" as IdRangeManager
}

package "Worker Layer" as WorkerLayer #LightYellow {
    "CanonicalizationMethod" as CanonicalizationMethod
    "EntityDiffRequest" as EntityDiffRequest
    "EntityDiffResponse" as EntityDiffResponse
    "RDFCanonicalizer" as RDFCanonicalizer
    "RDFSerializer" as RDFSerializer
    ... (11 total components)
}

package "Infrastructure Layer" as InfrastructureLayer #LightGray {
    "Metadata" as MetadataRepository
    "Redirect" as RedirectRepository
    "Revision" as RevisionRepository
    "Head" as HeadRepository
    "EntityHeadListing" as EntityHeadListing
    ... (17 total components)
}

package "Data Models" as DataModels #LightCyan {
    "EndorsementResponse" as EndorsementResponse
    "EndorsementListResponse" as EndorsementListResponse
    "EndorsementStatsResponse" as EndorsementStatsResponse
    "StatementEndorsementStats" as StatementEndorsementStats
    "BatchEndorsementStatsResponse" as BatchEndorsementStatsResponse
    ... (10 total components)
}


' Relationships
API -> Service : business logic
Service -> Infrastructure : data access
Worker -> Infrastructure : background processing
API -> DataModels : serialization

@enduml